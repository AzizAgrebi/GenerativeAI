<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX Article</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Calibri';
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 50px;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #000;
            width: 94.4%;
        }

        .logo {
            font-size: 24px;
        }

        .navigation {
            display: flex;
        }

        .navigation a {
            margin-left: 20px;
            text-decoration: none;
            color: inherit;
        }

        .navigation a:first-child {
            margin-left: 0;
        }

        .content-area {
            margin: 20px auto;
            max-width: 1000px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .margin {
            width: calc((100% - 800px) / 2);
            background-color: #dcdcdc; /* Elegant gray color for margin */
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
        }

        .margin.right {
            left: auto;
            right: 0;
        }

        .math {
            display: inline-block;
            font-size: 16px;
            line-height: 1.5;
        }

    </style>

</head>

<body>

    <header>
        <div class="logo">GenerativeAI</div>
        <nav class="navigation">
            <a href="#">Home</a>
            <a href="#">About</a>
            <a href="#">Links</a>
        </nav>
    </header>

    <div class="content-area">
        <h1 id="motivations">Motivations</h1>
        <p>I want to document here my project of C++ pricing library. C++ is a
        compiled programming language that has many advantages over Python: it
        is faster, manages memory efficiently with no possible leakage and is
        much more rigorous regarding variables declaration. For all these
        reasons I wanted to improve my skills in C++. To start my C++ journey I
        decided to implement my self made pricing library. I have always been
        interested in mathematical finance and programming that’s why this
        project is perfect: I can work on both. In the following I will explain
        my code, all the steps and the mathematics behind.</p>
        <h1 id="option-pricing">Option pricing</h1>
        <h2 id="blackscholes-model">Black&amp;Scholes model</h2>
        <p>To begin with, what else than Black&amp;Scholes model for option
        pricing ? In the following we consider European options (exercised at
        maturity only). The following hypothesis are made :</p>
        <ul>
        <li><p>The underlying asset follows geometric Brownian motion. <span
        class="math display">\[dS_t = rS_t dt + \sigma S_t dW_t\]</span></p>
        <p>where: <span class="math display">\[\begin{aligned}
            &amp; S_t \text{ is the underlying price} \\
            &amp; r \text{ is the risk free rate, supposed constant} \\
            &amp; \sigma \text{ is the volatility of the underlying asset,
        supposed constant} \\
            &amp; dW_t \text{ is a Wiener process}
        \end{aligned}\]</span></p></li>
        <li><p>There are no dividends paid during the option’s life.</p></li>
        <li><p>There is no risk-free arbitrage opportunity.</p></li>
        </ul>
        <p>Applying Ito’s lemma on the price of a call leads to Black Scholes
        equation :</p>
        <p><span class="math display">\[\frac{\partial C}{\partial t} +
        rS\frac{\partial C}{\partial S} + \frac{1}{2}\sigma^2S^2\frac{\partial^2
        C}{\partial S^2} - rC = 0\]</span></p>
        <p>this is equation can be rearranged into a heat equation Let <span
        class="math inline">\(u(S, t) = e^{-rt}C(S, t)\)</span>. The transformed
        Black-Scholes equation becomes:</p>
        <p><span class="math display">\[\frac{\partial u}{\partial \tau} +
        \left(\frac{1}{2}\sigma^2 - r\right)\frac{\partial^2 u}{\partial x^2} =
        0\]</span></p>
        <p>where: <span class="math display">\[\begin{aligned}
            &amp; \tau = T-t
            &amp; x = \ln{S} + (r + \frac{\sigma^2}{2})\tau
        \end{aligned}\]</span></p>
        <p>using limit conditions, this leads to well known formula:</p>
        <p><span class="math display">\[\begin{aligned}
            \boxed{
        $$C = S_0 N(d_1) - Ke^{-rT} N(d_2)$$
        }
        \end{aligned}\]</span></p>
        <p>where: <span class="math display">\[\begin{aligned}
            &amp; S_0 \text{ is the current price of the underlying asset,} \\
            &amp; K \text{ is the strike price of the option,} \\
            &amp; T \text{ is the time to expiration in years,} \\
            &amp; r \text{ is the risk-free interest rate,} \\
            &amp; N \text{ is the cumulative distribution function of the
        standard normal distribution,} \\
            &amp; d_1 = \frac{\ln\left(\frac{S_0}{X}\right) + \left(r +
        \frac{\sigma^2}{2}\right)T}{\sigma \sqrt{T}}, \\
            &amp; d_2 = d_1 - \sigma \sqrt{T}, \\
            &amp; \sigma \text{ is the volatility of the underlying asset&#39;s
        returns.}
        \end{aligned}\]</span></p>
        <p>The same way we can compute the put price:</p>
        <p><span class="math display">\[P = Ke^{-rT} N(-d_2) - S_0
        N(-d_1)\]</span></p>
        <p>which shows Put-Call parity : <span class="math display">\[C - P =
        S_0 - Ke^{-rT}\]</span></p>
        <p>From those formulas, we can easily derive all greeks:<br />
        1. Delta (<span class="math inline">\(\Delta\)</span>) - Sensitivity to
        the underlying asset’s price: <span
        class="math display">\[\Delta_{\text{call}} = \frac{\partial C}{\partial
        S} = N(d_1)\]</span> <span class="math display">\[\Delta_{\text{put}} =
        \frac{\partial P}{\partial S} = N(d_1) - 1\]</span></p>
        <p>2. Gamma (<span class="math inline">\(\Gamma\)</span>) - Rate of
        change of Delta with respect to the underlying asset’s price: <span
        class="math display">\[\Gamma_{\text{call}} = \Gamma_{\text{put}} =
        \frac{\partial^2 C}{\partial S^2} = \frac{N&#39;(d_1)}{S\sigma
        \sqrt{T}}\]</span></p>
        <p>3. Theta (<span class="math inline">\(\Theta\)</span>) - Sensitivity
        to time decay: <span class="math display">\[\Theta_{\text{call}} =
        -\frac{\partial C}{\partial T} = -\frac{S_0\sigma
        N&#39;(d_1)}{2\sqrt{T}} - rKe^{-rT}N(d_2)\]</span> <span
        class="math display">\[\Theta_{\text{put}} = -\frac{\partial P}{\partial
        T} = -\frac{S_0\sigma N&#39;(d_1)}{2\sqrt{T}} +
        rKe^{-rT}N(-d_2)\]</span></p>
        <p>4. Vega (<span class="math inline">\(\nu\)</span>) - Sensitivity to
        changes in implied volatility: <span
        class="math display">\[\nu_{\text{call}} = \nu_{\text{put}} =
        \frac{\partial C}{\partial \sigma} = S_0\sqrt{T}N&#39;(d_1)\]</span></p>
        <p>5. Rho (<span class="math inline">\(\rho\)</span>) - Sensitivity to
        changes in the risk-free interest rate: <span
        class="math display">\[\rho = \frac{\partial C}{\partial r} =
        KTe^{-rT}N(d_2)\]</span> <span class="math display">\[\rho_{\text{put}}
        = \frac{\partial P}{\partial r} = -KTe^{-rT}N(-d_2)\]</span> Now we have
        all the formulas required to implement my first Black&amp;Scholes model.
        I defined a class "Option" that takes as input the spot price <span
        class="math inline">\(S_0\)</span>, the strike price <span
        class="math inline">\(K\)</span>, the volatility <span
        class="math inline">\(\sigma\)</span>, the risk free rate <span
        class="math inline">\(r\)</span> and the time to maturity <span
        class="math inline">\(T\)</span>. This Option object can be fed to a
        "BlackScholesModel" class that compute the option price and all it’s
        greeks according to the Black&amp;Scholes model.</p>
        <h2 id="monte-carlo-pricing">Monte Carlo pricing</h2>
        <p>In this section we will price the same options but using an
        alternative method which consist in simulating a large number of path
        for the underlying price <span class="math inline">\(S_t\)</span> and
        and average the results.</p>
        <p>To begin, let’s place ourselves in the same Black&amp;Scholes
        conditions and suppose <span class="math inline">\(S_t\)</span> follows
        the following geometric Brownian motion: <span
        class="math display">\[dS_t = rS_t dt + \sigma S_t dW_t\]</span></p>
        <p>then applying Ito’s lemma to <span
        class="math inline">\(\ln(S_t)\)</span> leads to,</p>
        <p><span class="math display">\[d\ln(S_t) = (\mu - \frac{\sigma^2}{2})dt
        + \sigma dW\]</span></p>
        <p><span class="math display">\[\ln(S_T) - \ln(S_0) \sim N((\mu -
        \frac{\sigma^2}{2})T, \sigma^2 T)\]</span></p>
        <p><span class="math display">\[\begin{aligned}
            \boxed{
        $$S_T = S_0 e^{(r - \frac{\sigma^2}{2})T + \sigma \sqrt{T}Z}
        $$}
        \end{aligned}\]</span></p>
        <p>where: <span class="math display">\[\begin{aligned}
            &amp; Z \sim N(0, 1)
        \end{aligned}\]</span></p>
        <p>In the end, I computed a large number of normally distributed random
        variables, computed the spot price at maturity and fianlly computing the
        average payoff of my option. This gives me the expected payoff of the
        chosen option, this is its undiscounted price. Then,</p>
        <p><span class="math display">\[C = e^{-rT}\mathbb{E}[max(0, S_T -
        K)]\]</span> <span class="math display">\[\begin{aligned}
            \boxed{
        $$ C = \frac{e^{-rT}}{N} \sum_{i=1}^{N} max(0, S_T^{i} - K) $$
        }
        \end{aligned}\]</span></p>
        <p>To compute all the greeks I use finite difference approximation,
        <span class="math display">\[\Delta \approx \frac{V(S + dS) -
        V(S)}{dS}\]</span></p>
        <p>Now I can compare the results obtained between BlackScholes closed
        forms solutions and MonteCarlo simulations. I obtain really close
        results.</p>
        <h1 id="variance-swaps">Variance swaps</h1>
    </div>

</body>
</html>
